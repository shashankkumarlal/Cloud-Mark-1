let's install the CloudWatch Agent so we can monitor the instance:

CONTINUED AFTER CREATING INSTANCE IN EC2........
PASTE FOLLOWING COMMANDS IN GIT BASH
->sudo yum update -y
->sudo yum install -y amazon-cloudwatch-agent
->sudo /opt/aws/amazon-cloudwatch-agent/bin/amazon-cloudwatch-agent-config-wizard

On which OS are you planning to use the agent?
1. linux
2. windows
3. darwin
default choice: [1]:CHOOSE 1

Trying to fetch the default region based on ec2 metadata...
I! imds retry client will retry 1 timesAre you using EC2 or On-Premises hosts?
1. EC2
2. On-Premises
default choice: [1]: CHOOSE 1

Which user are you planning to run the agent?
1. cwagent
2. root
3. others
default choice: [1]:CHOOSE 2

Do you want to turn on StatsD daemon?
1. yes
2. no
default choice: [1]:CHOOSE 2

Do you want to monitor metrics from CollectD? WARNING: CollectD must be installed or the Agent will fail to start
1. yes
2. no
default choice: [1]:CHOOSE 2  

Do you want to monitor any host metrics? e.g. CPU, memory, etc.
1. yes
2. no
default choice: [1]:CHOOSE 1

Do you want to monitor cpu metrics per core?
1. yes
2. no
default choice: [1]:CHOOSE 1

Do you want to add ec2 dimensions (ImageId, InstanceId, InstanceType, AutoScalingGroupName) into all of your metrics if the info is available?
1. yes
2. no
default choice: [1]:CHOOSE 1

Do you want to aggregate ec2 dimensions (InstanceId)?
1. yes
2. no
default choice: [1]:CHOOSE 1

Would you like to collect your metrics at high resolution (sub-minute resolution)? This enables sub-minute resolution for all metrics, but you can customize for specific metrics in the output json file.
1. 1s
2. 10s
3. 30s
4. 60s
default choice: [4]:CHOOSE 4

Which default metrics config do you want?
1. Basic
2. Standard
3. Advanced
4. None
default choice: [1]:CHOOSE 1

Are you satisfied with the above config? Note: it can be manually customized after the wizard completes to add additional items.
1. yes
2. no
default choice: [1]:CHOOSE 1

✅ Disk Usage (used_percent)
✅ Memory Usage (mem_used_percent)
✅ EC2 Instance Metadata (InstanceId, ImageId, InstanceType, etc.)

This setup ensures basic monitoring without unnecessary data overload. You can always customize the configuration later if needed.

Do you have any existing CloudWatch Log Agent (http://docs.aws.amazon.com.................) configuration file to import for migration?
1. yes
2. no
default choice: [2]:CHOOSE 2

Do you want to monitor any log files?
1. yes
2. no
default choice: [1]:CHOOSE 2

Do you want the CloudWatch agent to also retrieve X-ray traces?
1. yes
2. no
default choice: [1]:CHOOSE 2

The config file is also located at /opt/aws/amazon-................. .json
Edit it manually if needed.
Do you want to store the config in the SSM parameter store?
1. yes
2. no
default choice: [1]:CHOOSE 2

start the CloudWatch agent using the following command
->sudo systemctl start amazon-cloudwatch-agent
->sudo systemctl status amazon-cloudwatch-agent
IF ERROR OCCURS : FIX USING ANY AI TOOL 

1️⃣ Verify Logs & Metrics in CloudWatch Console
Go to AWS CloudWatch Console → Metrics and check if your EC2 instance metrics are being reported.

2️⃣ Ensure Auto-start on Reboot
Since the agent is currently disabled (preset: disabled) in systemd, enable it to start on boot:
->sudo systemctl enable amazon-cloudwatch-agent
3️⃣ Check Logs for Any Errors
->sudo journalctl -u amazon-cloudwatch-agent --no-pager | tail -n 20


  #Your EC2 instance (CloudOptiGuard-Test) is running successfully! ✅
  
